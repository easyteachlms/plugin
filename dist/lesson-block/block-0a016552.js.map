{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.data\"","webpack:///external \"wp.i18n\"","webpack:///external \"wp.element\"","webpack:///./blocks/_shared/components/block-initial-state/index.js","webpack:///./blocks/_shared/components/collapsible/index.js","webpack:///./blocks/lesson/edit.js","webpack:///./blocks/lesson/save.js","webpack:///./blocks/lesson/settings.js","webpack:///./blocks/lesson/index.js","webpack:///external \"lodash\"","webpack:///external \"ReactDOM\"","webpack:///external \"wp.blocks\"","webpack:///external \"wp.blockEditor\""],"names":["module","exports","React","wp","data","i18n","element","SearchExisting","postType","setAttributes","Header","as","icon","content","__","Dropdown","placeholder","fluid","search","selection","options","key","value","text","onChange","v","console","log","style","fontFamily","fontSize","CreateNew","withState","title","setState","setAtttributes","Form","onSubmit","s","post","api","models","charAt","toUpperCase","slice","save","id","Group","Input","name","e","Button","color","InitialState","size","className","Segment","textAlign","Divider","horizontal","Collapsible","children","useState","open","caretDirection","classNames","collapsed","onClick","ALLOWED_BLOCKS","edit","attributes","clientId","useSelect","select","blockType","getBlockType","hasInnerBlocks","getBlocks","length","useDispatch","replaceInnerBlocks","allowedBlocks","lessonID","Content","settings","description","category","keywords","supports","html","align","type","default","registerBlockType","lodash","ReactDOM","blocks","blockEditor"],"mappings":"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","file":"lesson-block/block-0a016552.js","sourcesContent":["module.exports = React;","module.exports = wp.data;","module.exports = wp.i18n;","module.exports = wp.element;","import { withState } from '@wordpress/compose';\nimport { Fragment } from '@wordpress/element';\nimport { Dropdown, Form, Divider, Segment, Header } from 'semantic-ui-react';\nimport { __ } from '@wordpress/i18n';\n\nconst capitalize = (s) => {\n    if (typeof s !== 'string') return ''\n    return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nconst SearchExisting = ({postType, setAttributes}) => {\n    // We need a promise that will set state and say loaded and also load the options from post values\n    const options = [\n        { key: 'a', value: 'a', text: 'Post A' },\n        { key: 'b', value: 'b', text: 'Post B' },\n        { key: 'c', value: 'c', text: 'Post C' },\n        { key: 'd', value: 'd', text: 'Post D' },\n        { key: 'e', value: 'e', text: 'Post E' },\n        { key: 'f', value: 'f', text: 'Post F' },\n        { key: 'g', value: 'g', text: 'Post G' },\n        { key: 'h', value: 'h', text: 'Post H' },\n        { key: 'i', value: 'i', text: 'Post I' },\n        { key: 'j', value: 'j', text: 'Post J' },\n        { key: 'l', value: 'l', text: 'Post L' },\n        { key: 'k', value: 'k', text: 'Post K' },\n    ];\n \n    return (\n        <Fragment>\n            <Header as='h3' icon='search' content={__('Search for existing ' + postType)} />\n            <Dropdown\n                placeholder={__('Select ' + postType)}\n                fluid\n                search\n                selection\n                options={options}\n                onChange={v => console.log(v)}\n                style={{\n                    fontFamily:\"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\n                    fontSize: '14px',\n                }}\n            />\n        </Fragment>\n    );\n}\n\nconst CreateNew = withState( {\n    title: '',\n} )( ( { title, postType, setState, setAtttributes } ) => {\n    const handleChange = (e, { name, value }) => {\n        setState( { title: value } );\n    }\n    const handleCreation = () => {\n        let post = new wp.api.models[capitalize(postType)]( { title } );\n        post.save();\n        setAtttributes( { title, id: post.id } );\n        // And also using the wp.api go create a lesson with this title, return the ID and then set the attribute as the ID.\n    }\n    return (\n        <Fragment>\n            <Header as='h3' icon='add' content={__('Start a new ' + postType)} />\n            <Form onSubmit={handleCreation}>\n              <Form.Group>\n                <Form.Input\n                  placeholder='Title'\n                  name='title'\n                  value={title}\n                  onChange={handleChange}\n                />\n                <Form.Button color=\"teal\" icon=\"add\" content={__('Create ' + postType)} />\n              </Form.Group>\n            </Form>\n        </Fragment>\n    );\n} );\n\n// This component will contain a title and a post id. and state and inspector sidebar tools that let you define those manually as well (Should be another component)\n// It will have a title field and a post selector search box that will filter to the post types you pass in as a prop.\n\n// Should only be used when you have no inner block content or some other conditional like that\n\nconst InitialState = ({postType, title, id, size, setAttributes, className}) => {\n    // Select A Post\n    // What the course title is, and what course is associated with it (for courses that should be easy... or not??)\n    // What the lesson title is and what the lesson post its associated with...\n    // What the topic title is and what the topic post is associated with.\n    return(\n        <div className={className}>\n            <Segment textAlign='center'>\n                <SearchExisting postType={postType}/>\n                <Divider horizontal>\n                    <span  style={{\n                        fontFamily:\"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\n                        fontSize: '14px',\n                    }}>Or</span>\n                </Divider>\n                <CreateNew title={title} postType={postType} setAtttributes={setAttributes}/>\n            </Segment>\n        </div>\n    );\n}\n\nexport default InitialState;","import { useState } from '@wordpress/element';\nimport classNames from 'classnames';\nimport { Header } from 'semantic-ui-react';\nimport { __ } from '@wordpress/i18n';\n\nconst Collapsible = ({ title, postType, className, children }) => {\n\tconst [ open, setState ] = useState(true);\n\t\n\tconst collapseHandler = (e) => {\n\t\tsetState(!open);\n\t}\n\t\n\tlet caretDirection = open ? 'down' : 'right';\n\n\treturn(\n        <div className={classNames(className, { collapsed: !open })}>\n            <div className=\"collapsible-title\">\n                <Header as='h4' icon={\"caret \" + caretDirection} content={__( postType.toUpperCase() + ' ' + title)} onClick={collapseHandler} />\n            </div>\n            <div className=\"collapsible-content\">\n                {children}\n            </div>\n        </div>\n    )\n}\n\nexport default Collapsible;","import {\n\tInspectorControls,\n\tInnerBlocks,\n\tBlockControls,\n\tBlockVerticalAlignmentToolbar,\n\t__experimentalBlockVariationPicker,\n\t__experimentalBlock as Block,\n} from '@wordpress/block-editor';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { createBlock } from '@wordpress/blocks';\nimport { get, map } from 'lodash';\n\nimport InitialState from 'components/block-initial-state';\nimport Collapsible from 'components/collapsible';\n\nconst ALLOWED_BLOCKS = ['easyteachlms/topic'];\n\nconst createBlocksFromInnerBlocksTemplate = ( innerBlocksTemplate ) => {\n\treturn map(\n\t\tinnerBlocksTemplate,\n\t\t( [ name, attributes, innerBlocks = [] ] ) =>\n\t\t\tcreateBlock(\n\t\t\t\tname,\n\t\t\t\tattributes,\n\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocks )\n\t\t\t)\n\t);\n};\n\nconst edit = ({ attributes, className, clientId, name, setAttributes }) => {\n\tconst { id, title } = attributes;\n\n    // We get some information when the block's internal state changes.\n    const {\n\t\tblockType,\n\t\thasInnerBlocks,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockType,\n\t\t\t} = select( 'core/blocks' );\n\n\t\t\treturn {\n\t\t\t\tblockType: getBlockType( name ),\n\t\t\t\thasInnerBlocks:\n\t\t\t\t\tselect( 'core/block-editor' ).getBlocks( clientId ).length >\n\t\t\t\t\t0,\n\t\t\t};\n\t\t},\n\t\t[ clientId, name ]\n    );\n\n\tconst { replaceInnerBlocks } = useDispatch( 'core/block-editor' );\n\n\tif ( 0 !== id ) {\n\t\treturn(\n\t\t\t<div><p>We have an existing lesson! You will not be able to edit the lesson because its stored in the database.</p><p>We will have an edit button that will open in a new window the lesson editor.</p></div>\n\t\t);\n\t}\n\n\tif ( 0 === id && '' !== title ) {\n\t\treturn(\n\t\t\t<Collapsible className={className} title={title} postType=\"lesson\">\n\t\t\t\t<InnerBlocks allowedBlocks={ALLOWED_BLOCKS}/>\n\t\t\t</Collapsible>\n\t\t)\n\t}\n    \n    return <InitialState title={title} postType=\"lesson\" setAttributes={setAttributes} className={className}/>\n}\n\nexport default edit;","import { InnerBlocks } from '@wordpress/block-editor';\n\nconst save = ({attributes, className}) => {\n    const { title, lessonID } = attributes;\n    return (\n        <div className={className}>\n            <h2>{title}</h2>\n            <InnerBlocks.Content/>\n        </div>\n    );\n}\n\nexport default save;","\nimport { __ } from '@wordpress/i18n';\nimport edit from './edit';\nimport save from './save';\n\nconst settings = [\n    'easyteachlms/lesson',\n    {\n        title: __('Lesson'), \n        description: 'Block Desc.',\n        category: 'education',\n        // icon: {\n        //     background: '#yourcolor',\n        //     foreground: '#yourcolor',\n        //     src: 'Dashicon',\n        // },\n        keywords: [\n            __( 'Key 1' ),\n            __( 'Key 2' ), \n            __( 'Key 3' )\n        ],\n        supports: {\n            html: false, \n            align: true\n        },\n        attributes: {\n            id: {\n                type: 'integer', \n                default: 0,\n            },\n            title: {\n                type: 'string',\n                default: '',\n            }\n        },\n        edit,\n        save,\n    }\n];\n\nexport default settings;","import { registerBlockType } from '@wordpress/blocks';\nimport settings from './settings';\nimport './lesson.scss';\n\nregisterBlockType(...settings);","module.exports = lodash;","module.exports = ReactDOM;","module.exports = wp.blocks;","module.exports = wp.blockEditor;"],"sourceRoot":""}