/*!
 * 
 * easyteachlms
 * 
 * @author 
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2020 
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window["wpackioeasyTeachLMSlesson-blockJsonp"]=window["wpackioeasyTeachLMSlesson-blockJsonp"]||[]).push([[0],{0:function(e,t){e.exports=React},111:function(e,t){e.exports=lodash},16:function(e,t){e.exports=wp.element},161:function(e,t){e.exports=wp.data},187:function(e,t,a){a(188),e.exports=a(312)},189:function(e,t,a){},21:function(e,t){e.exports=wp.i18n},311:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(174),l=a(81),c=a(21),o=a(41),s=a(16),i=a(4),r=a.n(i),u=a(327),p=(a(189),function(e){var t=e.title,a=e.postType,n=e.className,l=e.children,i=Object(s.useState)(!0),p=Object(o.a)(i,2),d=p[0],m=p[1],f=d?"down":"right";return React.createElement("div",{className:r()(n,{collapsed:!d})},React.createElement("div",{className:"collapsible-title"},React.createElement(u.a,{as:"h4",icon:"caret "+f,content:Object(c.__)(a.toUpperCase()+" "+t),onClick:function(e){m(!d)}})),React.createElement("div",{className:"collapsible-content"},l))}),d=a(326),m=a(112),f=a(34),v=a(161),E=a(55),R=a(162),b=a(329),y=a(325),k=a(324),g=a(330),x=a(323),h=function(e){var t=e.postType;e.setAttributes;return React.createElement(s.Fragment,null,React.createElement(u.a,{as:"h3",icon:"search",content:Object(c.__)("Search for existing "+t)}),React.createElement(y.a,{placeholder:Object(c.__)("Select "+t),fluid:!0,search:!0,selection:!0,options:[{key:"a",value:"a",text:"Post A"},{key:"b",value:"b",text:"Post B"},{key:"c",value:"c",text:"Post C"},{key:"d",value:"d",text:"Post D"},{key:"e",value:"e",text:"Post E"},{key:"f",value:"f",text:"Post F"},{key:"g",value:"g",text:"Post G"},{key:"h",value:"h",text:"Post H"},{key:"i",value:"i",text:"Post I"},{key:"j",value:"j",text:"Post J"},{key:"l",value:"l",text:"Post L"},{key:"k",value:"k",text:"Post K"}],onChange:function(e){return console.log(e)},style:{fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontSize:"14px"}}))},w=Object(b.a)({title:""})((function(e){var t=e.title,a=e.postType,n=e.setState,l=e.setAttributes;return React.createElement(s.Fragment,null,React.createElement(u.a,{as:"h3",icon:"add",content:Object(c.__)("Start a new "+a)}),React.createElement(k.a,{onSubmit:function(){l({title:t,id:1})}},React.createElement(k.a.Group,null,React.createElement(k.a.Input,{placeholder:"Title",name:"title",value:t,onChange:function(e,t){t.name;var a=t.value;n({title:a})}}),React.createElement(k.a.Button,{color:"teal",icon:"add",content:Object(c.__)("Create "+a)}))))})),_=function(e){var t=e.postType,a=e.setAttributes,n=e.className;return React.createElement("div",{className:n},React.createElement(g.a,{textAlign:"center"},React.createElement(h,{postType:t}),React.createElement(x.a,{horizontal:!0},React.createElement("span",{style:{fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontSize:"14px"}},"Or")),React.createElement(w,{postType:t,setAttributes:a})))},O=function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},j=function(e){var t=e.id,a=e.postType,n=e.title,o=e.lastUpdated,i=e.clientId,r=e.setAttributes,u=void 0!==r&&r,p=e.className,b=void 0===p?"":p,y=e.allowedBlocks,k=void 0===y?null:y,g=Object(v.useSelect)((function(e){return e("core/block-editor").getBlock(i)}),[]);Object(R.a)((function(){!function(e,t,a){var n=O(t);new wp.api.models[n]({id:e}).fetch().then((function(e){if(console.log(e),console.log(a),console.log(e.modified_gmt),a!==e.modified_gmt){console.log("WE ARE DIVERGENT");var t=Object(m.a)(e.content.rendered);console.log(t)}}))}(t,a,o)}));var x=function(){var e=O(a),t=function(){g.name;var e=g.attributes,t=g.innerBlocks;return Object(l.getSaveContent)("sethrubenstein/ghost-block",e,t)}();new wp.api.models[e]({title:n,content:t}).save().then((function(e){console.info("POST SAVED"),console.log(e),u({id:e.id,lastUpdated:e.modified_gmt})}))},h=function(){return React.createElement("div",{style:{display:"flex",flexWrap:"auto"}},React.createElement("div",null,React.createElement(f.Button,{isSecondary:!0,onClick:function(){x()}},"Save As ",a)),React.createElement("div",null))},w=function(){var e=O(a),n=e+" Settings";return React.createElement(s.Fragment,null,React.createElement(E.InspectorControls,null,React.createElement(f.Panel,null,React.createElement(f.PanelBody,{title:Object(c.__)(n),icon:d.a,initialOpen:!1},React.createElement(f.PanelRow,null,React.createElement(f.TextControl,{label:"ID",value:t,disabled:!0})),React.createElement(f.PanelRow,null,React.createElement(f.TextControl,{label:"Post Type",value:e,disabled:!0}))))),React.createElement(h,null))};return 0!==t?React.createElement(s.Fragment,null,!1!==u&&React.createElement(s.Fragment,null,React.createElement(E.InnerBlocks,{allowedBlocks:k}),React.createElement(w,null)),!1===u&&React.createElement(E.InnerBlocks.Content,null)):React.createElement(_,{postType:a,setAttributes:u,className:b})},T=["easyteachlms/topic"],P=function(e){var t=e.attributes,a=e.className,n=e.clientId,l=e.setAttributes,c=t.id,o=t.lastUpdated,s=t.title;return 0!==c&&""!==s?React.createElement(p,{className:a,title:s,postType:"lesson"},React.createElement(j,{id:c,postType:"lesson",title:s,lastUpdated:o,setAttributes:l,allowedBlocks:T,clientId:n})):React.createElement(j,{id:c,postType:"lesson",title:s,lastUpdated:o,setAttributes:l,allowedBlocks:T,clientId:n})},A=function(e){var t=e.attributes,a=e.className,n=t.title;t.lessonID;return React.createElement("div",{className:a},React.createElement("h2",null,n),React.createElement(E.InnerBlocks.Content,null))},S=["easyteachlms/lesson",{title:Object(c.__)("Lesson"),description:"Block Desc.",category:"education",keywords:[Object(c.__)("Key 1"),Object(c.__)("Key 2"),Object(c.__)("Key 3")],supports:{html:!1,align:!0},attributes:{id:{type:"integer",default:0},lastUpdated:{type:"string",default:""},title:{type:"string",default:""}},edit:P,save:A}];a(311);l.registerBlockType.apply(void 0,Object(n.a)(S))},34:function(e,t){e.exports=wp.components},55:function(e,t){e.exports=wp.blockEditor},61:function(e,t){e.exports=ReactDOM},81:function(e,t){e.exports=wp.blocks}},[[187,1,2]]]);
//# sourceMappingURL=block-c1d19a56.js.map