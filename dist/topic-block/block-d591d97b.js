/*!
 * 
 * easyteachlms
 * 
 * @author 
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2020 
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window["wpackioeasyTeachLMStopic-blockJsonp"]=window["wpackioeasyTeachLMStopic-blockJsonp"]||[]).push([[0],{0:function(e,t){e.exports=React},113:function(e,t){e.exports=lodash},16:function(e,t){e.exports=wp.element},187:function(e,t,n){n(188),e.exports=n(312)},189:function(e,t,n){},22:function(e,t){e.exports=wp.i18n},311:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var a=n(175),c=n(81),l=n(22),o=n(82),i=n(41),s=n(16),r=n(4),u=n.n(r),p=n(328),d=(n(189),function(e){var t=e.title,n=e.postType,a=e.className,c=e.children,o=Object(s.useState)(!0),r=Object(i.a)(o,2),d=r[0],m=r[1],f=d?"down":"right";return React.createElement("div",{className:u()(a,{collapsed:!d})},React.createElement("div",{className:"collapsible-title"},React.createElement(p.a,{as:"h4",icon:"caret "+f,content:Object(l.__)(n.toUpperCase()+" "+t),onClick:function(e){m(!d)}})),React.createElement("div",{className:"collapsible-content"},c))}),m=n(327),f=n(114),v=n(34),E=n(55),R=n(163),b=n(331),y=n(325),g=n(324),k=n(330),h=n(323),x=function(e){var t=e.postType;e.setAttributes;return React.createElement(s.Fragment,null,React.createElement(p.a,{as:"h3",icon:"search",content:Object(l.__)("Search for existing "+t)}),React.createElement(y.a,{placeholder:Object(l.__)("Select "+t),fluid:!0,search:!0,selection:!0,options:[{key:"a",value:"a",text:"Post A"},{key:"b",value:"b",text:"Post B"},{key:"c",value:"c",text:"Post C"},{key:"d",value:"d",text:"Post D"},{key:"e",value:"e",text:"Post E"},{key:"f",value:"f",text:"Post F"},{key:"g",value:"g",text:"Post G"},{key:"h",value:"h",text:"Post H"},{key:"i",value:"i",text:"Post I"},{key:"j",value:"j",text:"Post J"},{key:"l",value:"l",text:"Post L"},{key:"k",value:"k",text:"Post K"}],onChange:function(e){return console.log(e)},style:{fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontSize:"14px"}}))},w=Object(b.a)({title:""})((function(e){var t=e.title,n=e.postType,a=e.setState,c=e.setAttributes;return React.createElement(s.Fragment,null,React.createElement(p.a,{as:"h3",icon:"add",content:Object(l.__)("Start a new "+n)}),React.createElement(g.a,{onSubmit:function(){c({title:t,id:1})}},React.createElement(g.a.Group,null,React.createElement(g.a.Input,{placeholder:"Title",name:"title",value:t,onChange:function(e,t){t.name;var n=t.value;a({title:n})}}),React.createElement(g.a.Button,{color:"teal",icon:"add",content:Object(l.__)("Create "+n)}))))})),T=function(e){var t=e.postType,n=e.setAttributes,a=e.className;return React.createElement("div",{className:a},React.createElement(k.a,{textAlign:"center"},React.createElement(x,{postType:t}),React.createElement(h.a,{horizontal:!0},React.createElement("span",{style:{fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontSize:"14px"}},"Or")),React.createElement(w,{postType:t,setAttributes:n})))},O=function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},j=function(e){var t=e.id,n=e.postType,a=e.title,i=e.lastUpdated,r=e.clientId,u=e.setAttributes,p=void 0!==u&&u,d=e.className,b=void 0===d?"":d,y=e.allowedBlocks,g=void 0===y?null:y,k=Object(o.useSelect)((function(e){return e("core/block-editor").getBlock(r)}),[]);Object(R.a)((function(){!function(e,t,n){var a=O(t);new wp.api.models[a]({id:e}).fetch().then((function(e){if(console.log(e),console.log(n),console.log(e.modified_gmt),n!==e.modified_gmt){console.log("WE ARE DIVERGENT");var t=Object(f.a)(e.content.rendered);console.log(t)}}))}(t,n,i)}));var h=function(){var e=O(n),t=function(){k.name;var e=k.attributes,t=k.innerBlocks;return Object(c.getSaveContent)("sethrubenstein/ghost-block",e,t)}();new wp.api.models[e]({title:a,content:t}).save().then((function(e){console.info("POST SAVED"),console.log(e),p({id:e.id,lastUpdated:e.modified_gmt})}))},x=function(){return React.createElement("div",{style:{display:"flex",flexWrap:"auto"}},React.createElement("div",null,React.createElement(v.Button,{isSecondary:!0,onClick:function(){h()}},"Save As ",n)),React.createElement("div",null))},w=function(){var e=O(n),a=e+" Settings";return React.createElement(s.Fragment,null,React.createElement(E.InspectorControls,null,React.createElement(v.Panel,null,React.createElement(v.PanelBody,{title:Object(l.__)(a),icon:m.a,initialOpen:!1},React.createElement(v.PanelRow,null,React.createElement(v.TextControl,{label:"ID",value:t,disabled:!0})),React.createElement(v.PanelRow,null,React.createElement(v.TextControl,{label:"Post Type",value:e,disabled:!0}))))),React.createElement(x,null))};return 0!==t?React.createElement(s.Fragment,null,!1!==p&&React.createElement(s.Fragment,null,React.createElement(E.InnerBlocks,{allowedBlocks:g}),React.createElement(w,null)),!1===p&&React.createElement(E.InnerBlocks.Content,null)):React.createElement(T,{postType:n,setAttributes:p,className:b})},_=function(e){var t=e.attributes,n=e.className,a=e.clientId,c=e.setAttributes,l=t.title,i=t.lastUpdated,s=t.id,r=function(e){return console.log(e),Object(o.useSelect)((function(t){return t("core/block-editor").getBlocks(e).length>0}),[e,name]).hasInnerBlocks}(a);return console.log(t),console.log("topic has inner blocks??"),console.log(r),0!==s&&""!==l?React.createElement(d,{className:n,title:l,postType:"topic"},React.createElement(j,{id:s,postType:"topic",title:l,lastUpdated:i,setAttributes:c,clientId:a})):React.createElement(j,{id:s,postType:"topic",title:l,lastUpdated:i,setAttributes:c,clientId:a})},P=n(326),S=function(e){e.attributes;var t=e.className;return React.createElement("div",{className:t},React.createElement(E.InnerBlocks.Content,null),React.createElement(P.a,{size:"small",color:"teal",disabled:!0},"Mark Topic Completed"))},A=["easyteachlms/topic",{title:Object(l.__)("Topic"),description:"Block Desc.",category:"education",keywords:[Object(l.__)("Topic")],supports:{html:!1,align:!0},attributes:{id:{type:"integer",default:0},lastUpdated:{type:"string",default:0},title:{type:"string",default:""}},edit:_,save:S}];n(311);c.registerBlockType.apply(void 0,Object(a.a)(A))},34:function(e,t){e.exports=wp.components},55:function(e,t){e.exports=wp.blockEditor},61:function(e,t){e.exports=ReactDOM},81:function(e,t){e.exports=wp.blocks},82:function(e,t){e.exports=wp.data}},[[187,1,2]]]);
//# sourceMappingURL=block-d591d97b.js.map