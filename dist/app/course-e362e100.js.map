{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.domReady\"","webpack:///./assets/js/course/index.js","webpack:///external \"wp.element\"","webpack:///external \"ReactDOM\"","webpack:///external \"lodash\""],"names":["module","exports","React","wp","domReady","Course","withState","loaded","setState","children","courseAsReactElement","Parser","parse","console","log","items","recursiveMap","fn","Children","map","child","isValidElement","props","cloneElement","className","undefined","includes","document","querySelector","querySelectorAll","forEach","value","innerHTML","render","element","ReactDOM","lodash"],"mappings":";;;;;;;;;;;;;;;;;uGAAAA,EAAOC,QAAUC,O,kBCAjBF,EAAOC,QAAUE,GAAGC,U,8ECApB,gEAkEMC,EAASC,YAAU,CACrBC,QAAQ,GADGD,EAEZ,YAAoC,EAAjCC,OAAiC,EAAzBC,SAA0B,IAAhBC,EAAe,EAAfA,SAGdC,GADa,IAAIC,UACiBC,MAAMH,GAAU,GAExDI,QAAQC,IAAI,cACZD,QAAQC,IAAIJ,GACZ,IAAMK,EA5DW,SAAfC,EAAgBP,EAAUQ,GAC5B,OAAOC,WAASC,IAAIV,GAAU,SAACW,GAC3B,IAAKC,yBAAeD,GAChB,OAAO,oBAAC,UAAD,KAAUA,GAGjBA,EAAME,MAAMb,WACZW,EAAQG,uBAAaH,EAAO,CACxBX,SAAUO,EAAaI,EAAME,MAAMb,SAAUQ,MAGrDJ,QAAQC,IAAI,mBACZD,QAAQC,IAAIM,GAXyB,IAa7BI,EAAcJ,EAAME,MAApBE,UACR,YAAIC,IAAcD,EACPJ,GAEXP,QAAQC,IAAIU,GACZX,QAAQC,IAAIU,EAAUE,SAAS,gCAE3BF,EAAUE,SAAS,+BAEf,+BACI,oBAAC,WAAD,KACI,wCACCN,EACD,oBAAC,IAAD,4BAMZI,EAAUE,SAAS,0BAEf,+BACI,oBAAC,WAAD,KACI,6BACI,iDAEHN,EACD,iCAMT,oBAAC,WAAD,KAAWA,OAaRJ,CAAaN,GAG3B,OAAO,2BAAKc,UAAU,wBAAwBT,MAGlDX,KAAS,WACDuB,SAASC,cAAc,kCACVD,SAASE,iBAAiB,iCAClCC,SAAQ,SAACC,GACV,IAAMtB,EAAWsB,EAAMC,UACvBC,iBAAO,oBAAC5B,EAAD,KAASI,GAAoBsB,U,iBCtFhD/B,EAAOC,QAAUE,GAAG+B,S,qCCApBlC,EAAOC,QAAUkC,U,iBCAjBnC,EAAOC,QAAUmC,S","file":"app/course-e362e100.js","sourcesContent":["module.exports = React;","module.exports = wp.domReady;","// Determines style selected and then proceeds to load the course correctly.\n// Dives through finding the lesson block and gathering up its resources.\nimport { withState } from '@wordpress/compose';\nimport {\n    Fragment,\n    RawHTML,\n    Children,\n    isValidElement,\n    cloneElement,\n    render,\n} from '@wordpress/element';\nimport domReady from '@wordpress/dom-ready';\nimport { Parser } from 'html-to-react';\nimport { Button } from 'semantic-ui-react';\n\nconst recursiveMap = (children, fn) => {\n    return Children.map(children, (child) => {\n        if (!isValidElement(child)) {\n            return <RawHTML>{child}</RawHTML>;\n        }\n\n        if (child.props.children) {\n            child = cloneElement(child, {\n                children: recursiveMap(child.props.children, fn),\n            });\n        }\n        console.log('child recursive');\n        console.log(child);\n\n        const { className } = child.props;\n        if (undefined === className) {\n            return child;\n        }\n        console.log(className);\n        console.log(className.includes('wp-block-easyteachlms-topic'));\n        // We can do checks here\n        if (className.includes('wp-block-easyteachlms-topic')) {\n            return (\n                <div>\n                    <Fragment>\n                        <h3>Topic:</h3>\n                        {child}\n                        <Button>Mark as Completed</Button>\n                    </Fragment>\n                </div>\n            );\n        }\n\n        if (className.includes('wp-block-embed-youtube')) {\n            return (\n                <div>\n                    <Fragment>\n                        <p>\n                            <strong>VIDEO HERE</strong>\n                        </p>\n                        {child}\n                        <hr />\n                    </Fragment>\n                </div>\n            );\n        }\n\n        return <Fragment>{child}</Fragment>;\n    });\n};\n\nconst Course = withState({\n    loaded: false,\n})(({ loaded, setState, children }) => {\n    // Note: okay so far the parser is working well. It's getting me react elements for the whole HTML string so thats good. Now we need to figure out how to loop through those elements and convert them to react and render them. Raw HTML should be used for anything that is not OURS.\n    const HTMLParser = new Parser();\n    const courseAsReactElement = HTMLParser.parse(children)[1];\n\n    console.log('Course HOC');\n    console.log(courseAsReactElement);\n    const items = recursiveMap(courseAsReactElement);\n    // parseChildren(courseAsReactElement);\n\n    return <div className=\"easyteach-lms-course\">{items}</div>;\n});\n\ndomReady(() => {\n    if (document.querySelector('.wp-block-easyteachlms-course')) {\n        const elms = document.querySelectorAll('.wp-block-easyteachlms-course');\n        elms.forEach((value) => {\n            const children = value.innerHTML;\n            render(<Course>{children}</Course>, value);\n        });\n    }\n});\n","module.exports = wp.element;","module.exports = ReactDOM;","module.exports = lodash;"],"sourceRoot":""}