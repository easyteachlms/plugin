{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.domReady\"","webpack:///external \"wp.url\"","webpack:///external \"wp.element\"","webpack:///external \"wp.data\"","webpack:///external \"wp.apiFetch\"","webpack:///./assets/js/course/_blockController/general/index.js","webpack:///./assets/js/course/_blockController/topic/index.js","webpack:///./assets/js/course/_blockController/quiz/index.js","webpack:///./assets/js/course/_blockController/index.js","webpack:///./assets/js/course/dashboard/index.js","webpack:///./assets/js/course/outline/index.js","webpack:///./assets/js/course/enroll-gate/index.js","webpack:///./assets/js/data-store/actions.js","webpack:///./assets/js/data-store/controls.js","webpack:///./assets/js/data-store/selectors.js","webpack:///./assets/js/data-store/reducer.js","webpack:///./assets/js/data-store/resolvers.js","webpack:///./assets/js/course/index.js","webpack:///./assets/js/data-store/index.js","webpack:///external \"ReactDOM\"","webpack:///external \"regeneratorRuntime\""],"names":["module","exports","React","wp","domReady","url","element","data","apiFetch","General","children","user","window","userData","MarkComplete","uuid","userId","courseId","hasQuiz","isComplete","useState","status","setStatus","setComplete","useDispatch","Button","size","color","onClick","console","log","path","method","completed","then","res","setTimeout","loading","disabled","Topic","parentTitle","title","className","useSelect","select","isActive","getActive","getCourseId","Toolbar","id","Menu","style","fontSize","Item","Header","as","dividing","Subheader","data-uuid","QuizComponent","d","getQuiz","loaded","useDidMount","quiz","onComplete","obj","blockController","fn","Children","map","child","isValidElement","props","cloneElement","blockData","outline","flat","filter","block","length","undefined","includes","Dashboard","active","getData","getCompleted","total","ratio","getQuizzes","progress","progressRatio","files","getFiles","quizData","name","CourseProgress","Progress","percent","autoSuccess","Files","info","f","forEach","file","push","href","download","Quizzes","q","quizTitle","setActive","Icon","Lessons","structured","lessons","topics","Outline","vertical","fluid","Enroll","enrolling","setEnrolling","enroll","display","flexDirection","alignItems","primary","enrolled","actions","fetchFromAPI","type","initDataFromAPI","history","location","protocol","pathname","host","pushState","newurl","controls","FETCH_FROM_API","action","selectors","getUserId","state","hasOwnProperty","quizzes","index","findIndex","DEFAULT_STATE","reducer","resolvers","Course","registerStore","reactElms","ReactHtmlParser","isEnrolled","expectedUUID","getQueryArg","Segment","minHeight","Grid","stackable","divided","Row","Column","width","document","querySelector","querySelectorAll","value","parseInt","getAttribute","innerHTML","render","other","ReactDOM","regeneratorRuntime"],"mappings":"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","file":"app/course-d625b61b.js","sourcesContent":["module.exports = React;","module.exports = wp.domReady;","module.exports = wp.url;","module.exports = wp.element;","module.exports = wp.data;","module.exports = wp.apiFetch;","import { Fragment } from '@wordpress/element';\n\nconst General = ({ children }) => {\n    return <Fragment>{children}</Fragment>;\n};\n\nexport default General;\n","import { useSelect, useDispatch } from '@wordpress/data';\nimport { Fragment, useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { Button, Header, Menu } from 'semantic-ui-react';\n\nconst user = window.userData;\n\nconst MarkComplete = ({ uuid, userId, courseId, hasQuiz, isComplete }) => {\n    const [status, setStatus] = useState(false);\n    const { setComplete } = useDispatch('easyteachlms/course');\n    return (\n        <Button\n            size=\"small\"\n            color={isComplete ? 'green' : null}\n            onClick={() => {\n                setStatus(true);\n                console.log('COURSE ID');\n                console.log(courseId);\n                console.log(userId);\n\n                apiFetch({\n                    path: `/easyteachlms/v3/student/update-progress/?userId=${userId}&uuid=${uuid}&courseId=${courseId}`,\n                    method: 'POST',\n                    data: { completed: true },\n                }).then((res) => {\n                    console.log(res);\n                    setTimeout(() => {\n                        setStatus(false);\n                        setComplete(uuid);\n                    }, 1000);\n                });\n            }}\n            loading={status}\n            disabled={isComplete}\n        >\n            Mark Completed {true === hasQuiz && '(Requirement: Complete Quiz)'}\n        </Button>\n    );\n};\n\nconst Topic = ({ parentTitle, title, uuid, hasQuiz, className, children }) => {\n    const { isComplete, isActive, courseId } = useSelect((select) => {\n        const complete = select('easyteachlms/course').isComplete(uuid);\n        const active = select('easyteachlms/course').getActive();\n        return {\n            isComplete: complete,\n            isActive: active === uuid,\n            courseId: select('easyteachlms/course').getCourseId(),\n        };\n    }, []);\n\n    if (true !== isActive) {\n        return <Fragment />;\n    }\n\n    const Toolbar = () => {\n        const { id } = user;\n        return (\n            <Menu style={{ fontSize: '14px' }}>\n                <Menu.Item>\n                    <MarkComplete\n                        uuid={uuid}\n                        userId={id}\n                        courseId={courseId}\n                        hasQuiz={hasQuiz}\n                        isComplete={isComplete}\n                    />\n                </Menu.Item>\n\n                <Menu.Item>Get Help</Menu.Item>\n            </Menu>\n        );\n    };\n    // How can we tell if this has a quiz??\n    return (\n        <Fragment>\n            <Header as=\"h2\" dividing>\n                {title}\n                {false !== parentTitle && (\n                    <Header.Subheader>{parentTitle}</Header.Subheader>\n                )}\n            </Header>\n            <div className={className} data-uuid={uuid}>\n                {children}\n                <Toolbar />\n            </div>\n        </Fragment>\n    );\n};\n\nexport default Topic;\n","import { useDidMount } from '@daniakash/lifecycle-hooks';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport Quiz from 'react-quiz-component';\nimport apiFetch from '@wordpress/api-fetch';\n\nconst QuizComponent = ({ uuid }) => {\n    console.log('QuizComponent');\n    console.log(uuid);\n    const { data, loaded } = useSelect(\n        (select) => {\n            const d = select('easyteachlms/course').getQuiz(uuid);\n            console.log(d);\n\n            let loaded = false;\n            if (false !== data) {\n                loaded = true;\n            }\n            return {\n                data: d,\n                loaded,\n            };\n        },\n        [uuid],\n    );\n\n    useDidMount(() => {\n        console.log('QUIZ');\n        // console.log(data);\n    });\n\n    const onCompleteAction = (obj) => {\n        // This makes most sense to send the data sep from the results page.\n        console.log(obj);\n        // YOUR LOGIC GOES HERE\n    };\n\n    return (\n        <div>\n            {false !== loaded && (\n                <Quiz quiz={data} onComplete={onCompleteAction} />\n            )}\n        </div>\n    );\n};\n\nexport default QuizComponent;\n","import {\n    Fragment,\n    RawHTML,\n    Children,\n    isValidElement,\n    cloneElement,\n} from '@wordpress/element';\n\n// Load Our Blocks\nimport General from './general';\nimport Topic from './topic';\nimport Quiz from './quiz';\n\n// Maps Course post_content to EasyTeach LMS block handlers.\nconst blockController = (children, data, style, fn) => {\n    // Iterate over static HTML content\n    return Children.map(children, (child) => {\n        // Failover Condition:\n        if (!isValidElement(child)) {\n            return <RawHTML>{child}</RawHTML>;\n        }\n\n        if (child.props.children) {\n            child = cloneElement(child, {\n                children: blockController(child.props.children, data, fn),\n            });\n        }\n\n        const uuid = child.props['data-uuid'];\n        const blockData = data.outline.flat.filter(\n            (block) => block.uuid === uuid,\n        );\n\n        let parentTitle = false;\n        let hasQuiz = false;\n        if (blockData.length) {\n            parentTitle = blockData[0].parentTitle;\n            hasQuiz = blockData[0].hasQuiz;\n        }\n\n        // Class Name is so important for us we need to double check it. All of our logic is based on class names.\n        const { className } = child.props;\n        if (undefined === className) {\n            return child;\n        }\n\n        if (className.includes('wp-block-easyteachlms-topic')) {\n            return (\n                <Topic\n                    title={child.props['data-title']}\n                    className={child.props.className}\n                    uuid={uuid}\n                    parentTitle={parentTitle}\n                    hasQuiz={hasQuiz}\n                >\n                    {child}\n                </Topic>\n            );\n        }\n\n        if (className.includes('wp-block-easyteachlms-quiz')) {\n            return <Quiz uuid={uuid} />;\n        }\n\n        if (className.includes('wp-block-embed-youtube')) {\n            return (\n                <div>\n                    <Fragment>\n                        {child}\n                        <hr />\n                    </Fragment>\n                </div>\n            );\n        }\n\n        // Default to raw output if no conditions met.\n        return <General>{child}</General>;\n    });\n};\n\nexport default blockController;\n","import { useSelect } from '@wordpress/data';\nimport { Fragment } from '@wordpress/element';\nimport { Progress, Icon } from 'semantic-ui-react';\n\nconst user = window.userData;\n\nconst Dashboard = ({ id }) => {\n    const { isActive, progress, progressRatio, files, quizData } = useSelect(\n        (select) => {\n            const active = select('easyteachlms/course').getActive();\n            const data = select('easyteachlms/course').getData(id);\n            const completed = select('easyteachlms/course').getCompleted();\n            const { total } = data.outline;\n            const ratio = `${completed}/${total}`;\n            console.log('<Dashboard>');\n            console.log(data);\n            console.log(select('easyteachlms/course').getQuizzes());\n            return {\n                data,\n                isActive: 'dashboard' === active,\n                progress: 100 * (completed / total),\n                progressRatio: ratio,\n                files: select('easyteachlms/course').getFiles(),\n                quizData: select('easyteachlms/course').getQuizzes(),\n            };\n        },\n        [],\n    );\n    if (true !== isActive) {\n        return <Fragment />;\n    }\n\n    const { name } = user;\n\n    const CourseProgress = () => {\n        return (\n            <Progress\n                percent={progress}\n                color=\"teal\"\n                size=\"small\"\n                active\n                autoSuccess\n            >\n                {100 === progress\n                    ? 'Course Completed!'\n                    : `Course Progress ${progressRatio}`}\n            </Progress>\n        );\n    };\n\n    const Files = () => {\n        console.info('<Files/>');\n        const f = [];\n        files.forEach((file) => {\n            f.push(\n                <li>\n                    <a href={file.href} download>\n                        {file.title}\n                    </a>\n                </li>,\n            );\n        });\n\n        return (\n            <Fragment>\n                <h3>Files</h3>\n                <p>\n                    <i>Click to download files</i>\n                </p>\n                <ul>{f}</ul>\n            </Fragment>\n        );\n    };\n\n    const Quizzes = () => {\n        console.info('<Quizzes/>');\n        const q = [];\n\n        quizData.forEach((quiz) => {\n            q.push(\n                <li>\n                    <a>{quiz.quizTitle}</a>\n                </li>,\n            );\n        });\n\n        return (\n            <Fragment>\n                <h3>Quizzes</h3>\n                <ul>{q}</ul>\n            </Fragment>\n        );\n    };\n\n    return (\n        <div>\n            <h2>Hi, {name}</h2>\n            <CourseProgress />\n            <p>Course Description Here...</p>\n            <Quizzes />\n            <Files />\n        </div>\n    );\n};\n\nexport default Dashboard;\n","/* eslint-disable no-shadow */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\nimport { useDispatch, useSelect, select } from '@wordpress/data';\nimport { Icon, Menu } from 'semantic-ui-react';\n\n// const getBlockByUUID = (data, uuid) => {\n//     return data.filter((obj) => {\n//         return obj.uuid === uuid;\n//     });\n// };\n\n// const getBlockIndexByUUID = (data, uuid) => {\n//     return data.findIndex((obj) => obj.uuid === uuid);\n// };\n\nconst Item = ({ title, uuid }) => {\n    const { setActive } = useDispatch('easyteachlms/course');\n    const { isComplete, isActive } = useSelect((select) => {\n        const complete = select('easyteachlms/course').isComplete(uuid);\n        const active = select('easyteachlms/course').getActive();\n        return {\n            isComplete: complete,\n            isActive: active === uuid,\n        };\n    }, []);\n\n    return (\n        <Menu.Item onClick={() => setActive(uuid)} active={isActive}>\n            {true === isComplete && <Icon name=\"check circle\" />}\n            {title}\n        </Menu.Item>\n    );\n};\n\nconst Lessons = ({ id }) => {\n    const { data, loaded } = useSelect((select) => {\n        const data = select('easyteachlms/course').getData(id);\n        let loaded = false;\n        if (false !== data) {\n            loaded = true;\n        }\n        return {\n            data,\n            loaded,\n        };\n    }, []);\n\n    if (true !== loaded) {\n        return;\n    }\n\n    const { outline } = data;\n    const { structured } = outline;\n\n    const lessons = [];\n    for (const uuid in structured) {\n        // Lesson\n        const { title, outline } = structured[uuid];\n        const topics = [];\n        for (const uuid in outline) {\n            // Topic\n            const { title } = outline[uuid];\n\n            topics.push(<Item title={title} uuid={uuid} />);\n        }\n        lessons.push(\n            <Menu.Item>\n                <Menu.Header>{title}</Menu.Header>\n                <Menu.Menu>{topics}</Menu.Menu>\n            </Menu.Item>,\n        );\n    }\n\n    return lessons;\n};\n\nconst Outline = ({ id }) => {\n    const { setActive } = useDispatch('easyteachlms/course');\n    return (\n        <Menu vertical fluid>\n            <Menu.Item\n                onClick={() => {\n                    setActive('dashboard');\n                }}\n            >\n                Course Dashboard\n            </Menu.Item>\n            <Lessons id={id} />\n        </Menu>\n    );\n};\n\nexport default Outline;\n","import { useState } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button } from 'semantic-ui-react';\nimport apiFetch from '@wordpress/api-fetch';\n\nconst Enroll = ({ courseId }) => {\n    const { userData } = window;\n    const { id } = userData;\n    const [enrolling, setEnrolling] = useState(false);\n    const { enroll } = useDispatch('easyteachlms/course');\n\n    const clickHandler = () => {\n        setEnrolling(true);\n        apiFetch({\n            path: `/easyteachlms/v3/course/enroll/?userId=${id}&courseId=${courseId}`,\n            method: 'POST',\n            data: { enrolled: true },\n        }).then((res) => {\n            console.log(res);\n            setTimeout(() => {\n                setEnrolling(false);\n                enroll(true);\n            }, 1000);\n        });\n    };\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n            }}\n        >\n            <h1>Not authorized</h1>\n            <p>You are currently not enrolled in this course</p>\n            <Button primary onClick={clickHandler} loading={enrolling}>\n                Enroll\n            </Button>\n        </div>\n    );\n};\n\nexport default Enroll;\n","const actions = {\n    fetchFromAPI(courseId) {\n        return {\n            type: 'FETCH_FROM_API',\n            courseId,\n        };\n    },\n    initDataFromAPI(data) {\n        return {\n            type: 'INIT_DATA',\n            data,\n        };\n    },\n    setActive(uuid) {\n        const { history, location } = window;\n        const { protocol, pathname, host } = location;\n        if (history.pushState) {\n            const newurl = `${protocol}//${host}${pathname}?uuid=${uuid}`;\n            history.pushState({ path: newurl }, '', newurl);\n        }\n        return {\n            type: 'SET_ACTIVE',\n            uuid,\n        };\n    },\n    enroll(status) {\n        console.log('enroleld');\n        return {\n            type: 'ENROLL',\n            status,\n        };\n    },\n    setComplete(uuid) {\n        return {\n            type: 'SET_COMPLETE',\n            uuid,\n        };\n    },\n};\n\nexport default actions;\n","import apiFetch from '@wordpress/api-fetch';\n\nconst controls = {\n    FETCH_FROM_API(action) {\n        const userId = window.userData.id;\n        console.log('FETCH_FROM_API');\n        console.log(userId);\n        return apiFetch({\n            path: `/easyteachlms/v3/course/get/?courseId=${action.courseId}&userId=${userId}`,\n        });\n    },\n};\n\nexport default controls;\n","const selectors = {\n    getUserId(state) {\n        return window.userData.id;\n    },\n    getCourseId(state) {\n        const { id } = state.data;\n        return id;\n    },\n    getActive(state) {\n        const { active } = state;\n        return active;\n    },\n    getData(state, courseId) {\n        console.log('selector::');\n        console.log(`getData(${courseId})`);\n        return state.data;\n    },\n    getQuiz(state, uuid) {\n        if (!state.data.hasOwnProperty('quizzes')) {\n            return false;\n        }\n        const quiz = state.data.quizzes.filter((q) => q.uuid === uuid);\n        return quiz[0];\n    },\n    getQuizzes(state) {\n        if (!state.data.hasOwnProperty('quizzes')) {\n            return false;\n        }\n        return state.data.quizzes;\n    },\n    getFiles(state) {\n        if (!state.data.hasOwnProperty('files')) {\n            return false;\n        }\n        return state.data.files;\n    },\n    getCompleted(state) {\n        if (\n            !state.data.hasOwnProperty('outline') ||\n            !state.data.outline.hasOwnProperty('completed')\n        ) {\n            return false;\n        }\n        const { completed } = state.data.outline;\n        return completed;\n    },\n    isComplete(state, uuid) {\n        if (\n            !state.data.hasOwnProperty('outline') ||\n            !state.data.outline.hasOwnProperty('flat')\n        ) {\n            return false;\n        }\n        const { flat } = state.data.outline;\n        const index = flat.findIndex((obj) => obj.uuid === uuid);\n        return flat[index].completed;\n    },\n};\n\nexport default selectors;\n","/* eslint-disable default-case */\nconst DEFAULT_STATE = {\n    active: false,\n    completed: 0,\n    data: false,\n};\n\nconst reducer = (state = DEFAULT_STATE, action) => {\n    const { data } = state;\n    switch (action.type) {\n        case 'INIT_DATA':\n            return {\n                ...state,\n                data: action.data,\n            };\n        case 'SET_ACTIVE':\n            return {\n                ...state,\n                active: action.uuid,\n            };\n        case 'ENROLL':\n            data.enrolled = action.status;\n            return {\n                ...state,\n                data,\n            };\n        case 'SET_COMPLETE':\n            // eslint-disable-next-line no-case-declarations\n            const { outline } = data;\n            // eslint-disable-next-line no-case-declarations\n            const { flat } = outline;\n            // eslint-disable-next-line no-case-declarations\n            const index = flat.findIndex((obj) => obj.uuid === action.uuid);\n            // eslint-disable-next-line no-case-declarations\n\n            data.outline.flat[index].completed = true;\n\n            // eslint-disable-next-line operator-assignment\n            data.outline.completed = data.outline.completed + 1;\n\n            return {\n                ...state,\n                data,\n            };\n    }\n    return state;\n};\n\nexport default reducer;\n","import selectors from './selectors';\nimport actions from './actions';\n\nconst resolvers = {\n    *getData(courseId) {\n        console.log('resolvers');\n        console.log(`getData(${courseId})`);\n        const data = yield actions.fetchFromAPI(courseId);\n        console.log(data);\n        return actions.initDataFromAPI(data);\n    },\n};\n\nexport default resolvers;\n","/* eslint-disable no-shadow */\nimport './style.scss';\n\nimport domReady from '@wordpress/dom-ready';\nimport ReactHtmlParser from 'react-html-parser';\n\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Fragment, render } from '@wordpress/element';\nimport { getQueryArg } from '@wordpress/url';\nimport { useDidMount } from '@daniakash/lifecycle-hooks';\n\nimport { Grid, Segment } from 'semantic-ui-react';\n\nimport blockController from './_blockController';\nimport Dashboard from './dashboard';\nimport Outline from './outline';\nimport Enroll from './enroll-gate';\n\nimport dataStore from '../data-store';\n\nconst Course = ({ id, children }) => {\n    const reactElms = ReactHtmlParser(children);\n\n    const { setActive } = useDispatch('easyteachlms/course');\n\n    const { data, loaded, isEnrolled } = useSelect(\n        (select) => {\n            const data = select('easyteachlms/course').getData(id);\n            console.log(data);\n\n            let loaded = false;\n            if (false !== data) {\n                loaded = true;\n            }\n\n            return {\n                data,\n                loaded,\n                isEnrolled: data.enrolled,\n            };\n        },\n        [id],\n    );\n\n    const style = 'default';\n\n    const windowState = () => {\n        const expectedUUID = getQueryArg(window.location.href, 'uuid');\n        if (expectedUUID) {\n            setActive(expectedUUID);\n        } else {\n            setActive('dashboard');\n        }\n    };\n\n    useDidMount(() => {\n        // Get data\n        windowState();\n    });\n\n    return (\n        <Segment loading={!loaded} style={{ minHeight: '100px' }}>\n            {true === loaded && false === isEnrolled && (\n                <Enroll courseId={id} />\n            )}\n            {true === loaded && true === isEnrolled && (\n                <Grid stackable divided>\n                    <Grid.Row>\n                        <Grid.Column width={5}>\n                            <Outline id={id} />\n                        </Grid.Column>\n                        <Grid.Column width={11}>\n                            <Fragment>\n                                <Dashboard id={id} />\n                                {blockController(reactElms, data, style)}\n                            </Fragment>\n                        </Grid.Column>\n                    </Grid.Row>\n                </Grid>\n            )}\n        </Segment>\n    );\n};\n\n/** Initialize from static markup */\ndomReady(() => {\n    // See if we can get other course content\n    if (document.querySelector('.wp-block-easyteachlms-course')) {\n        const other = false;\n        const elms = document.querySelectorAll('.wp-block-easyteachlms-course');\n        elms.forEach((value) => {\n            // eslint-disable-next-line radix\n            const id = parseInt(value.getAttribute('data-course-id'));\n            const children = value.innerHTML;\n            render(\n                <Course id={id} other={other}>\n                    {children}\n                </Course>,\n                value,\n            );\n        });\n    }\n});\n","/* eslint-disable default-case */\nimport { registerStore } from '@wordpress/data';\n\nimport actions from './actions';\nimport controls from './controls';\nimport selectors from './selectors';\nimport reducer from './reducer';\nimport resolvers from './resolvers';\n\nconst store = registerStore('easyteachlms/course', {\n    reducer,\n\n    actions,\n\n    selectors,\n\n    controls,\n\n    resolvers,\n});\n\nexport default store;\n","module.exports = ReactDOM;","module.exports = regeneratorRuntime;"],"sourceRoot":""}