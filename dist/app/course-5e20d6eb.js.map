{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.domReady\"","webpack:///external \"wp.url\"","webpack:///external \"wp.element\"","webpack:///external \"wp.data\"","webpack:///./assets/js/course/_blockController/general/index.js","webpack:///./assets/js/course/_blockController/topic/index.js","webpack:///./assets/js/course/_blockController/quiz/index.js","webpack:///./assets/js/course/_blockController/index.js","webpack:///./assets/js/course/dashboard/index.js","webpack:///./assets/js/course/outline/index.js","webpack:///./assets/js/data-store/actions.js","webpack:///./assets/js/data-store/controls.js","webpack:///./assets/js/data-store/selectors.js","webpack:///./assets/js/data-store/reducer.js","webpack:///./assets/js/data-store/resolvers.js","webpack:///./assets/js/course/index.js","webpack:///./assets/js/data-store/index.js","webpack:///external \"ReactDOM\"","webpack:///external \"wp.apiFetch\"","webpack:///external \"regeneratorRuntime\""],"names":["module","exports","React","wp","domReady","url","element","data","General","children","MarkComplete","uuid","userId","courseId","isComplete","useState","status","setStatus","setComplete","useDispatch","Button","size","color","onClick","console","log","apiFetch","path","method","completed","then","res","setTimeout","loading","disabled","Topic","parentTitle","title","className","hasQuiz","useSelect","select","isActive","getActive","getCourseId","Toolbar","Menu","style","fontSize","Item","Header","as","dividing","Subheader","data-uuid","QuizComponent","id","useDidMount","quiz","blockController","fn","Children","map","child","isValidElement","props","cloneElement","blockData","outline","flat","filter","block","length","undefined","includes","qProps","quizzes","Dashboard","active","getData","getCompleted","progress","topics","files","getFiles","Files","info","f","forEach","file","push","href","download","Progress","percent","autoSuccess","setActive","Icon","name","Lessons","loaded","structured","lessons","Outline","vertical","fluid","actions","fetchFromAPI","type","initDataFromAPI","window","history","location","protocol","pathname","host","pushState","newurl","controls","FETCH_FROM_API","action","selectors","state","hasOwnProperty","index","findIndex","obj","DEFAULT_STATE","reducer","resolvers","Course","registerStore","reactElms","ReactHtmlParser","expectedUUID","getQueryArg","Segment","minHeight","Grid","stackable","divided","Row","Column","width","document","querySelector","querySelectorAll","value","parseInt","getAttribute","innerHTML","render","other","ReactDOM","regeneratorRuntime"],"mappings":"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","file":"app/course-5e20d6eb.js","sourcesContent":["module.exports = React;","module.exports = wp.domReady;","module.exports = wp.url;","module.exports = wp.element;","module.exports = wp.data;","import { Fragment } from '@wordpress/element';\n\nconst General = ({ children }) => {\n    return <Fragment>{children}</Fragment>;\n};\n\nexport default General;\n","import { useSelect, useDispatch } from '@wordpress/data';\nimport { Fragment, useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { Button, Header, Menu } from 'semantic-ui-react';\n\nconst MarkComplete = ({ uuid, userId, courseId, isComplete }) => {\n    const [status, setStatus] = useState(false);\n    const { setComplete } = useDispatch('easyteachlms/course');\n    return (\n        <Button\n            size=\"small\"\n            color={isComplete ? 'green' : null}\n            onClick={() => {\n                setStatus(true);\n                console.log('COURSE ID');\n                console.log(courseId);\n                console.log(userId);\n\n                apiFetch({\n                    path: `/easyteachlms/v3/student/update-progress/?userId=${userId}&uuid=${uuid}&courseId=${courseId}`,\n                    method: 'POST',\n                    data: { completed: true },\n                }).then((res) => {\n                    console.log(res);\n                    setTimeout(() => {\n                        setStatus(false);\n                        setComplete(uuid);\n                    }, 1000);\n                });\n            }}\n            loading={status}\n            disabled={isComplete}\n        >\n            Mark Completed\n        </Button>\n    );\n};\n\nconst Topic = ({ parentTitle, title, uuid, hasQuiz, className, children }) => {\n    const { isComplete, isActive, courseId } = useSelect((select) => {\n        const complete = select('easyteachlms/course').isComplete(uuid);\n        const active = select('easyteachlms/course').getActive();\n        return {\n            isComplete: complete,\n            isActive: active === uuid,\n            courseId: select('easyteachlms/course').getCourseId(),\n        };\n    }, []);\n\n    if (true !== isActive) {\n        return <Fragment />;\n    }\n\n    const Toolbar = () => {\n        return (\n            <Menu style={{ fontSize: '14px' }}>\n                <Menu.Item>\n                    <MarkComplete\n                        uuid={uuid}\n                        userId=\"1\"\n                        courseId={courseId}\n                        isComplete={isComplete}\n                    />\n                </Menu.Item>\n\n                <Menu.Item>Get Help</Menu.Item>\n            </Menu>\n        );\n    };\n    // How can we tell if this has a quiz??\n    return (\n        <Fragment>\n            <Header as=\"h2\" dividing>\n                {title}\n                {false !== parentTitle && (\n                    <Header.Subheader>{parentTitle}</Header.Subheader>\n                )}\n            </Header>\n            <div className={className} data-uuid={uuid}>\n                {children}\n                <Toolbar />\n            </div>\n        </Fragment>\n    );\n};\n\nexport default Topic;\n","import { useDidMount } from '@daniakash/lifecycle-hooks';\nimport Quiz from 'react-quiz-component';\n\nconst QuizComponent = ({ id, title, uuid, data }) => {\n    useDidMount(() => {\n        console.log('QUIZ');\n        console.log(data);\n    });\n    return (\n        <div>\n            <Quiz quiz={data} />\n        </div>\n    );\n};\n\nexport default QuizComponent;\n","import {\n    Fragment,\n    RawHTML,\n    Children,\n    isValidElement,\n    cloneElement,\n} from '@wordpress/element';\n\n// Load Our Blocks\nimport General from './general';\nimport Topic from './topic';\nimport Quiz from './quiz';\n\n// Maps Course post_content to EasyTeach LMS block handlers.\nconst blockController = (children, data, style, fn) => {\n    // Iterate over static HTML content\n    return Children.map(children, (child) => {\n        // Failover Condition:\n        if (!isValidElement(child)) {\n            return <RawHTML>{child}</RawHTML>;\n        }\n\n        if (child.props.children) {\n            child = cloneElement(child, {\n                children: blockController(child.props.children, data, fn),\n            });\n        }\n\n        const uuid = child.props['data-uuid'];\n        const blockData = data.outline.flat.filter(\n            (block) => block.uuid === uuid,\n        );\n\n        let parentTitle = false;\n        let hasQuiz = false;\n        if (blockData.length) {\n            parentTitle = blockData[0].parentTitle;\n            hasQuiz = blockData[0].hasQuiz;\n        }\n\n        // Class Name is so important for us we need to double check it. All of our logic is based on class names.\n        const { className } = child.props;\n        if (undefined === className) {\n            return child;\n        }\n\n        // determine if has quiz by going through data.outline.flat ... find by uuid and if obj.hasQuiz\n\n        if (className.includes('wp-block-easyteachlms-topic')) {\n            return (\n                <Topic\n                    title={child.props['data-title']}\n                    className={child.props.className}\n                    uuid={uuid}\n                    parentTitle={parentTitle}\n                    hasQuiz={hasQuiz}\n                >\n                    {child}\n                </Topic>\n            );\n        }\n\n        if (className.includes('wp-block-easyteachlms-quiz')) {\n            const qProps = child.props;\n            qProps.uuid = uuid;\n            qProps.data = data.quizzes[uuid];\n            return <Quiz {...qProps} />;\n        }\n\n        if (className.includes('wp-block-embed-youtube')) {\n            return (\n                <div>\n                    <Fragment>\n                        <p>\n                            <strong>VIDEO PLAYER STUFF HERE</strong>\n                        </p>\n                        {child}\n                        <hr />\n                    </Fragment>\n                </div>\n            );\n        }\n\n        // Default to raw output if no conditions met.\n        return <General>{child}</General>;\n    });\n};\n\nexport default blockController;\n","import { useSelect } from '@wordpress/data';\nimport { Fragment } from '@wordpress/element';\nimport { Progress } from 'semantic-ui-react';\n\nconst Dashboard = ({ id }) => {\n    const { isActive, progress, files } = useSelect((select) => {\n        const active = select('easyteachlms/course').getActive();\n        const data = select('easyteachlms/course').getData(id);\n        const completed = select('easyteachlms/course').getCompleted();\n        console.log('<Dashboard>');\n        console.log(data);\n        console.log(completed);\n        return {\n            data,\n            isActive: 'dashboard' === active,\n            progress: 100 * (completed / data.topics),\n            files: select('easyteachlms/course').getFiles(),\n        };\n    }, []);\n    if (true !== isActive) {\n        return <Fragment />;\n    }\n\n    const Files = () => {\n        console.info('<Files/>');\n        const f = [];\n        files.forEach((file) => {\n            f.push(\n                <li>\n                    <a href={file.href} download>\n                        {file.title}\n                    </a>\n                </li>,\n            );\n        });\n\n        return (\n            <Fragment>\n                <h3>Files</h3>\n                <p>\n                    <i>Click to download files</i>\n                </p>\n                <ul>{f}</ul>\n            </Fragment>\n        );\n    };\n\n    return (\n        <div>\n            <h2>Hi, Seth Rubenstein</h2>\n            <Progress\n                percent={progress}\n                color=\"teal\"\n                size=\"small\"\n                active\n                autoSuccess\n            >\n                Course Progress\n            </Progress>\n\n            <p>Course Description Here...</p>\n\n            <Files />\n        </div>\n    );\n};\n\nexport default Dashboard;\n","/* eslint-disable no-shadow */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\nimport { useDispatch, useSelect, select } from '@wordpress/data';\nimport { Icon, Menu } from 'semantic-ui-react';\n\n// const getBlockByUUID = (data, uuid) => {\n//     return data.filter((obj) => {\n//         return obj.uuid === uuid;\n//     });\n// };\n\n// const getBlockIndexByUUID = (data, uuid) => {\n//     return data.findIndex((obj) => obj.uuid === uuid);\n// };\n\nconst Item = ({ title, uuid }) => {\n    const { setActive } = useDispatch('easyteachlms/course');\n    const { isComplete, isActive } = useSelect((select) => {\n        const complete = select('easyteachlms/course').isComplete(uuid);\n        const active = select('easyteachlms/course').getActive();\n        return {\n            isComplete: complete,\n            isActive: active === uuid,\n        };\n    }, []);\n\n    return (\n        <Menu.Item onClick={() => setActive(uuid)} active={isActive}>\n            {true === isComplete && <Icon name=\"check circle\" />}\n            {title}\n        </Menu.Item>\n    );\n};\n\nconst Lessons = ({ id }) => {\n    const { data, loaded } = useSelect((select) => {\n        const data = select('easyteachlms/course').getData(id);\n        let loaded = false;\n        if (false !== data) {\n            loaded = true;\n        }\n        return {\n            data,\n            loaded,\n        };\n    }, []);\n\n    if (true !== loaded) {\n        return;\n    }\n\n    const { outline } = data;\n    const { structured } = outline;\n\n    const lessons = [];\n    for (const uuid in structured) {\n        // Lesson\n        const { title, outline } = structured[uuid];\n        const topics = [];\n        for (const uuid in outline) {\n            // Topic\n            const { title } = outline[uuid];\n\n            topics.push(<Item title={title} uuid={uuid} />);\n        }\n        lessons.push(\n            <Menu.Item>\n                <Menu.Header>{title}</Menu.Header>\n                <Menu.Menu>{topics}</Menu.Menu>\n            </Menu.Item>,\n        );\n    }\n\n    return lessons;\n};\n\nconst Outline = ({ id }) => {\n    const { setActive } = useDispatch('easyteachlms/course');\n    return (\n        <Menu vertical fluid>\n            <Menu.Item\n                onClick={() => {\n                    setActive('dashboard');\n                }}\n            >\n                Course Dashboard\n            </Menu.Item>\n            <Lessons id={id} />\n        </Menu>\n    );\n};\n\nexport default Outline;\n","const actions = {\n    fetchFromAPI(courseId, userId) {\n        return {\n            type: 'FETCH_FROM_API',\n            courseId,\n            userId,\n        };\n    },\n    initDataFromAPI(data) {\n        return {\n            type: 'INIT_DATA',\n            data,\n        };\n    },\n    setActive(uuid) {\n        const { history, location } = window;\n        const { protocol, pathname, host } = location;\n        if (history.pushState) {\n            const newurl = `${protocol}//${host}${pathname}?uuid=${uuid}`;\n            history.pushState({ path: newurl }, '', newurl);\n        }\n        return {\n            type: 'SET_ACTIVE',\n            uuid,\n        };\n    },\n    setComplete(uuid) {\n        return {\n            type: 'SET_COMPLETE',\n            uuid,\n        };\n    },\n};\n\nexport default actions;\n","import apiFetch from '@wordpress/api-fetch';\n\nconst controls = {\n    FETCH_FROM_API(action) {\n        return apiFetch({\n            path: `/easyteachlms/v3/course/get/?courseId=${action.courseId}&userId=${action.userId}`,\n        });\n    },\n};\n\nexport default controls;\n","const selectors = {\n    getCourseId(state) {\n        const { id } = state.data;\n        return id;\n    },\n    getActive(state) {\n        const { active } = state;\n        return active;\n    },\n    getData(state, courseId) {\n        console.log('selector::');\n        console.log(`getData(${courseId})`);\n        return state.data;\n    },\n    getFiles(state) {\n        if (!state.data.hasOwnProperty('files')) {\n            return false;\n        }\n        return state.data.files;\n    },\n    getCompleted(state) {\n        const { completed } = state;\n        return completed;\n    },\n    isComplete(state, uuid) {\n        if (\n            !state.data.hasOwnProperty('outline') ||\n            !state.data.outline.hasOwnProperty('flat')\n        ) {\n            return false;\n        }\n        const { flat } = state.data.outline;\n        const index = flat.findIndex((obj) => obj.uuid === uuid);\n        return flat[index].completed;\n    },\n};\n\nexport default selectors;\n","/* eslint-disable default-case */\nconst DEFAULT_STATE = {\n    active: false,\n    completed: 0,\n    data: false,\n};\n\nconst reducer = (state = DEFAULT_STATE, action) => {\n    switch (action.type) {\n        case 'INIT_DATA':\n            return {\n                ...state,\n                data: action.data,\n            };\n        case 'SET_ACTIVE':\n            return {\n                ...state,\n                active: action.uuid,\n            };\n        case 'SET_COMPLETE':\n            // eslint-disable-next-line no-case-declarations\n            const { data } = state;\n            const { outline } = data;\n            const { flat } = outline;\n            const index = flat.findIndex((obj) => obj.uuid === action.uuid);\n            // eslint-disable-next-line no-case-declarations\n\n            data.outline.flat[index].completed = true;\n\n            return {\n                ...state,\n                data,\n                completed: state.completed + 1,\n            };\n    }\n    return state;\n};\n\nexport default reducer;\n","import selectors from './selectors';\nimport actions from './actions';\n\nconst resolvers = {\n    *getData(courseId) {\n        console.log('resolvers');\n        console.log(`getData(${courseId})`);\n        const data = yield actions.fetchFromAPI(courseId, 1);\n        console.log(data);\n        return actions.initDataFromAPI(data);\n    },\n};\n\nexport default resolvers;\n","/* eslint-disable no-shadow */\nimport './style.scss';\n\nimport domReady from '@wordpress/dom-ready';\nimport ReactHtmlParser from 'react-html-parser';\n\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Fragment, render } from '@wordpress/element';\nimport { getQueryArg } from '@wordpress/url';\nimport { useDidMount } from '@daniakash/lifecycle-hooks';\n\nimport { Grid, Segment } from 'semantic-ui-react';\n\nimport blockController from './_blockController';\nimport Dashboard from './dashboard';\nimport Outline from './outline';\n\nimport dataStore from '../data-store';\n\nconst Course = ({ id, children }) => {\n    const reactElms = ReactHtmlParser(children);\n\n    const { setActive } = useDispatch('easyteachlms/course');\n\n    const { data, loaded } = useSelect(\n        (select) => {\n            const data = select('easyteachlms/course').getData(id);\n            console.log(data);\n\n            let loaded = false;\n            if (false !== data) {\n                loaded = true;\n            }\n            return {\n                data,\n                loaded,\n            };\n        },\n        [id],\n    );\n\n    const style = 'default';\n\n    const windowState = () => {\n        const expectedUUID = getQueryArg(window.location.href, 'uuid');\n        if (expectedUUID) {\n            setActive(expectedUUID);\n        } else {\n            setActive('dashboard');\n        }\n    };\n\n    useDidMount(() => {\n        // Get data\n        windowState();\n    });\n\n    return (\n        <Segment loading={!loaded} style={{ minHeight: '100px' }}>\n            {true === loaded && (\n                <Grid stackable divided>\n                    <Grid.Row>\n                        <Grid.Column width={5}>\n                            <Outline id={id} />\n                        </Grid.Column>\n                        <Grid.Column width={11}>\n                            <Fragment>\n                                <Dashboard id={id} />\n                                {blockController(reactElms, data, style)}\n                            </Fragment>\n                        </Grid.Column>\n                    </Grid.Row>\n                </Grid>\n            )}\n        </Segment>\n    );\n};\n\n/** Initialize from static markup */\ndomReady(() => {\n    // See if we can get other course content\n    if (document.querySelector('.wp-block-easyteachlms-course')) {\n        const other = false;\n        const elms = document.querySelectorAll('.wp-block-easyteachlms-course');\n        elms.forEach((value) => {\n            // eslint-disable-next-line radix\n            const id = parseInt(value.getAttribute('data-course-id'));\n            const children = value.innerHTML;\n            render(\n                <Course id={id} other={other}>\n                    {children}\n                </Course>,\n                value,\n            );\n        });\n    }\n});\n","/* eslint-disable default-case */\nimport { registerStore } from '@wordpress/data';\n\nimport actions from './actions';\nimport controls from './controls';\nimport selectors from './selectors';\nimport reducer from './reducer';\nimport resolvers from './resolvers';\n\nconst store = registerStore('easyteachlms/course', {\n    reducer,\n\n    actions,\n\n    selectors,\n\n    controls,\n\n    resolvers,\n});\n\nexport default store;\n","module.exports = ReactDOM;","module.exports = wp.apiFetch;","module.exports = regeneratorRuntime;"],"sourceRoot":""}