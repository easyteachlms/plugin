{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.domReady\"","webpack:///external \"wp.blocks\"","webpack:///./blocks/_shared/utils/capitalize.js","webpack:///./assets/js/woocommerce/product-edit.js","webpack:///external \"wp.element\"","webpack:///external \"ReactDOM\"","webpack:///external \"wp.i18n\"","webpack:///external \"lodash\""],"names":["module","exports","React","wp","domReady","blocks","capitalize","s","charAt","toUpperCase","slice","value","document","getElementById","SearchForCourse","withState","loading","selected","parseInt","posts","postType","setState","type","useDidMount","api","collections","fetch","data","status","then","d","map","post","push","key","id","text","title","rendered","useEffect","input","style","padding","maxWidth","fontSize","fontFamily","color","marginBottom","Dropdown","placeholder","__","fluid","search","selection","disabled","options","onChange","e","find","o","border","render","element","ReactDOM","i18n","lodash"],"mappings":";;;;;;;;;;;;;;;;;uHAAAA,EAAOC,QAAUC,O,kBCAjBF,EAAOC,QAAUE,GAAGC,U,kBCApBJ,EAAOC,QAAUE,GAAGE,Q,sJCKLC,EALI,SAAAC,GAClB,MAAiB,iBAANA,EAAuB,GAC3BA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,MAAM,ICOxCC,G,QAAQ,GACPC,SAASC,eAAe,2BACzBF,EAAQC,SAASC,eAAe,yBAAyBF,OAG7D,IAAMG,EAAkBC,YAAW,CAC/BC,SAAS,EACTC,SAAUC,SAASP,GACnBQ,MAAO,IAHaJ,EAInB,YAAgE,IAA5DK,EAA2D,EAA3DA,SAAUH,EAAiD,EAAjDA,SAAiBD,GAAgC,EAAvCL,MAAuC,EAAhCK,SAASG,EAAuB,EAAvBA,MAAOE,EAAgB,EAAhBA,SAC1CC,EAAOhB,EAAWc,GAsCxB,OARAG,aAAY,YAfgB,IAAIpB,GAAGqB,IAAIC,YAAYH,IAC/BI,MAAM,CAAEC,KAAM,CAAEC,OAAQ,CAAC,UAAU,YAAcC,MAAK,SAAAV,GAElE,IAAMW,EAAI,GACVX,EAAMY,KAAI,SAACC,GACPF,EAAEG,KAAK,CACHC,IAAKF,EAAKG,GACVxB,MAAOqB,EAAKG,GACZC,KAAMJ,EAAKK,MAAMC,cAGzBjB,EAAS,CAAEF,MAAOW,EAAGd,SAAS,UAQtCuB,qBAAU,WA3BY,IACZC,EACD,QADCA,EAAQ5B,SAASC,eAAe,0BAClBF,QAChB6B,EAAM7B,MAAQM,KA0BnB,CAACA,IAGA,2BAAKwB,MAAO,CACRC,QAAS,MACTC,SAAU,UAEV,2BAAKF,MAAO,CACRG,SAAU,OACVC,WAAY,aACZC,MAAO,OACPC,aAAc,QAJlB,4DAMA,oBAACC,EAAA,EAAD,CACIC,YAAajC,EAAUkC,aAAG,WAAa9B,EAAW,OAAS8B,aAAG5B,EAAO,MACrE6B,OAAK,EACLC,QAAM,EACNC,WAAS,EACTrC,QAASA,EACTsC,SAAUtC,EACVuC,QAASpC,EACTqC,SAvDS,SAACC,EAAG3B,GAAO,IACrBnB,EAASmB,EAAEyB,QAAQG,MAAK,SAAAC,GAAC,OAAIA,EAAEhD,QAAUmB,EAAEnB,SAA3CA,MACPU,EAAS,CAACJ,SAAUN,KAsDZA,MAAOO,SAASD,GAChBwB,MAAO,CACHI,WAAW,mDACXD,SAAU,OACVgB,OAAQ,2BAO5BxD,KAAU,WACCQ,SAASC,eAAe,uBAG/BgD,iBAAQ,oBAAC/C,EAAD,CAAiBM,SAAS,SAAST,MAAOO,SAASP,KAAWC,SAASC,eAAe,2B,iBC5FlGb,EAAOC,QAAUE,GAAG2D,S,iBCApB9D,EAAOC,QAAU8D,U,iBCAjB/D,EAAOC,QAAUE,GAAG6D,M,iBCApBhE,EAAOC,QAAUgE,S","file":"woocommerce/productEdit-30f6a65b.js","sourcesContent":["module.exports = React;","module.exports = wp.domReady;","module.exports = wp.blocks;","const capitalize = s => {\n\tif (typeof s !== 'string') return ''\n\treturn s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nexport default capitalize;","import { __ } from '@wordpress/i18n';\nimport domReady from '@wordpress/dom-ready';\nimport { withState } from '@wordpress/compose';\nimport { Fragment, render, useEffect } from '@wordpress/element';\nimport { Dropdown } from 'semantic-ui-react';\nimport { useDidMount } from \"@daniakash/lifecycle-hooks\";\nimport { capitalize } from 'utils';\n\n// Load initial value from rendered DOM.\nlet value = false;\nif ( document.getElementById('elms-attached-product') ) {\n    value = document.getElementById('elms-attached-product').value;\n}\n\nconst SearchForCourse = withState( {\n    loading: true,\n    selected: parseInt(value),\n    posts: [],\n} )( ( { postType, selected, value, loading, posts, setState } ) => {\n    const type = capitalize(postType);\n\n    const handleChange = (e, d) => {\n        const {value} = d.options.find(o => o.value === d.value);\n        setState({selected: value});\n    }\n\n    const setInputValue = () => {\n        const input = document.getElementById('elms-attached-product');\n        if ( null !== input.value ) {\n            input.value = selected;\n        }\n    }\n\n    const loadPosts = () => {\n        const postsCollection = new wp.api.collections[type]();\n        postsCollection.fetch({ data: { status: ['publish','draft'] } }).then(posts => {\n            // \"d\" for Data\n            const d = [];\n            posts.map((post) => {\n                d.push({\n                    key: post.id,\n                    value: post.id,\n                    text: post.title.rendered,\n                });\n            });\n            setState({ posts: d, loading: false });\n        });\n    }\n\n    useDidMount(() => {\n        loadPosts();\n    });\n\n    useEffect(() => {\n        setInputValue();\n    }, [selected]);\n\n    return (\n        <div style={{\n            padding: '1em',\n            maxWidth: '400px',\n        }}>\n            <div style={{ \n                fontSize: '14px',\n                fontFamily: 'sans-serif',\n                color: 'gray',\n                marginBottom: '1em',\n            }}>Search for and select the course you would like to sell.</div>\n            <Dropdown\n                placeholder={loading ? __('Loading ' + postType + '...') : __(type + \"'s\") }\n                fluid\n                search\n                selection\n                loading={loading}\n                disabled={loading}\n                options={posts}\n                onChange={handleChange}\n                value={parseInt(selected)}\n                style={{\n                    fontFamily:\"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\n                    fontSize: '14px',\n                    border: '1px solid #7e8993',\n                }}\n            />\n        </div>\n    );\n} );\n\ndomReady( function() {\n    if ( ! document.getElementById('elms-product-field') ) {\n        return;\n    }\n    render( <SearchForCourse postType=\"course\" value={parseInt(value)}/>, document.getElementById('elms-product-field') );\n} );","module.exports = wp.element;","module.exports = ReactDOM;","module.exports = wp.i18n;","module.exports = lodash;"],"sourceRoot":""}