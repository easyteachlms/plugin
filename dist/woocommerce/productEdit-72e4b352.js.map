{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.domReady\"","webpack:///external \"wp.blocks\"","webpack:///./blocks/_shared/utils/capitalize.js","webpack:///./assets/js/woocommerce/product-edit.js","webpack:///external \"wp.element\"","webpack:///external \"ReactDOM\"","webpack:///external \"wp.i18n\"","webpack:///external \"lodash\""],"names":["module","exports","React","wp","domReady","blocks","capitalize","s","charAt","toUpperCase","slice","value","document","getElementById","SearchForCourse","withState","loading","selected","parseInt","posts","postType","setState","type","useDidMount","api","collections","fetch","data","status","then","d","map","post","push","key","id","text","title","rendered","useEffect","input","style","padding","maxWidth","fontSize","fontFamily","color","marginBottom","Dropdown","placeholder","__","fluid","search","selection","disabled","options","onChange","e","find","o","border","render","element","ReactDOM","i18n","lodash"],"mappings":";;;;;;;;;;;;;;;;;uHAAAA,EAAOC,QAAUC,O,kBCAjBF,EAAOC,QAAUE,GAAGC,U,kBCApBJ,EAAOC,QAAUE,GAAGE,Q,sJCKLC,EALI,SAAAC,GAClB,MAAiB,iBAANA,EAAuB,GAC3BA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,MAAM,ICOxCC,G,QAAQ,GACRC,SAASC,eAAe,2BACxBF,EAAQC,SAASC,eAAe,yBAAyBF,OAG7D,IAAMG,EAAkBC,YAAU,CAC9BC,SAAS,EACTC,SAAUC,SAASP,GACnBQ,MAAO,IAHaJ,EAIrB,YAA8D,IAA3DK,EAA0D,EAA1DA,SAAUH,EAAgD,EAAhDA,SAAiBD,GAA+B,EAAtCL,MAAsC,EAA/BK,SAASG,EAAsB,EAAtBA,MAAOE,EAAe,EAAfA,SACvCC,EAAOhB,EAAWc,GAwCxB,OARAG,aAAY,YAjBgB,IAAIpB,GAAGqB,IAAIC,YAAYH,IAE1CI,MAAM,CAAEC,KAAM,CAAEC,OAAQ,CAAC,UAAW,YACpCC,MAAK,SAACV,GAEH,IAAMW,EAAI,GACVX,EAAMY,KAAI,SAACC,GACPF,EAAEG,KAAK,CACHC,IAAKF,EAAKG,GACVxB,MAAOqB,EAAKG,GACZC,KAAMJ,EAAKK,MAAMC,cAGzBjB,EAAS,CAAEF,MAAOW,EAAGd,SAAS,UAQ1CuB,qBAAU,WA7BY,IACZC,EACF,QADEA,EAAQ5B,SAASC,eAAe,0BACnBF,QACf6B,EAAM7B,MAAQM,KA4BnB,CAACA,IAGA,2BACIwB,MAAO,CACHC,QAAS,MACTC,SAAU,UAGd,2BACIF,MAAO,CACHG,SAAU,OACVC,WAAY,aACZC,MAAO,OACPC,aAAc,QALtB,4DAUA,oBAACC,EAAA,EAAD,CACIC,YACIjC,EAAUkC,aAAG,WAAD,OAAY9B,EAAZ,QAA6B8B,aAAG,GAAD,OAAI5B,EAAJ,OAE/C6B,OAAK,EACLC,QAAM,EACNC,WAAS,EACTrC,QAASA,EACTsC,SAAUtC,EACVuC,QAASpC,EACTqC,SAjES,SAACC,EAAG3B,GAAO,IACpBnB,EAAUmB,EAAEyB,QAAQG,MAAK,SAACC,GAAD,OAAOA,EAAEhD,QAAUmB,EAAEnB,SAA9CA,MACRU,EAAS,CAAEJ,SAAUN,KAgEbA,MAAOO,SAASD,GAChBwB,MAAO,CACHI,WACI,mDACJD,SAAU,OACVgB,OAAQ,2BAO5BxD,KAAS,WACAQ,SAASC,eAAe,uBAG7BgD,iBACI,oBAAC/C,EAAD,CAAiBM,SAAS,SAAST,MAAOO,SAASP,KACnDC,SAASC,eAAe,2B,iBCzGhCb,EAAOC,QAAUE,GAAG2D,S,iBCApB9D,EAAOC,QAAU8D,U,iBCAjB/D,EAAOC,QAAUE,GAAG6D,M,iBCApBhE,EAAOC,QAAUgE,S","file":"woocommerce/productEdit-72e4b352.js","sourcesContent":["module.exports = React;","module.exports = wp.domReady;","module.exports = wp.blocks;","const capitalize = s => {\n\tif (typeof s !== 'string') return ''\n\treturn s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nexport default capitalize;","import { __ } from '@wordpress/i18n';\nimport domReady from '@wordpress/dom-ready';\nimport { withState } from '@wordpress/compose';\nimport { Fragment, render, useEffect } from '@wordpress/element';\nimport { Dropdown } from 'semantic-ui-react';\nimport { useDidMount } from '@daniakash/lifecycle-hooks';\nimport { capitalize } from '@easyteachlms/utils';\n\n// Load initial value from rendered DOM.\nlet value = false;\nif (document.getElementById('elms-attached-product')) {\n    value = document.getElementById('elms-attached-product').value;\n}\n\nconst SearchForCourse = withState({\n    loading: true,\n    selected: parseInt(value),\n    posts: [],\n})(({ postType, selected, value, loading, posts, setState }) => {\n    const type = capitalize(postType);\n\n    const handleChange = (e, d) => {\n        const { value } = d.options.find((o) => o.value === d.value);\n        setState({ selected: value });\n    };\n\n    const setInputValue = () => {\n        const input = document.getElementById('elms-attached-product');\n        if (null !== input.value) {\n            input.value = selected;\n        }\n    };\n\n    const loadPosts = () => {\n        const postsCollection = new wp.api.collections[type]();\n        postsCollection\n            .fetch({ data: { status: ['publish', 'draft'] } })\n            .then((posts) => {\n                // \"d\" for Data\n                const d = [];\n                posts.map((post) => {\n                    d.push({\n                        key: post.id,\n                        value: post.id,\n                        text: post.title.rendered,\n                    });\n                });\n                setState({ posts: d, loading: false });\n            });\n    };\n\n    useDidMount(() => {\n        loadPosts();\n    });\n\n    useEffect(() => {\n        setInputValue();\n    }, [selected]);\n\n    return (\n        <div\n            style={{\n                padding: '1em',\n                maxWidth: '400px',\n            }}\n        >\n            <div\n                style={{\n                    fontSize: '14px',\n                    fontFamily: 'sans-serif',\n                    color: 'gray',\n                    marginBottom: '1em',\n                }}\n            >\n                Search for and select the course you would like to sell.\n            </div>\n            <Dropdown\n                placeholder={\n                    loading ? __(`Loading ${postType}...`) : __(`${type}'s`)\n                }\n                fluid\n                search\n                selection\n                loading={loading}\n                disabled={loading}\n                options={posts}\n                onChange={handleChange}\n                value={parseInt(selected)}\n                style={{\n                    fontFamily:\n                        \"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\n                    fontSize: '14px',\n                    border: '1px solid #7e8993',\n                }}\n            />\n        </div>\n    );\n});\n\ndomReady(function () {\n    if (!document.getElementById('elms-product-field')) {\n        return;\n    }\n    render(\n        <SearchForCourse postType=\"course\" value={parseInt(value)} />,\n        document.getElementById('elms-product-field'),\n    );\n});\n","module.exports = wp.element;","module.exports = ReactDOM;","module.exports = wp.i18n;","module.exports = lodash;"],"sourceRoot":""}